!function(e,t){if("function"==typeof define&&define.amd)define(["backbone","underscore"],t);else if("undefined"!=typeof module&&module.exports){var i=require("backbone"),n=require("underscore");module.exports=t(i,n)}else t(e.Backbone,e._)}(this,function(e,t){var i=e.View=function(e){this.cid=t.uniqueId("view"),this.preinitialize.apply(this,arguments),t.extend(this,t.pick(e,s)),this._ensureElement(),this.initialize.apply(this,arguments)},n=/^(\S+)\s*(.*)$/,s=["model","collection","el","id","attributes","className","tagName","events"];t.extend(i.prototype,Events,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=t.result(this,"events")),!e)return this;this.undelegateEvents();for(var i in e){var s=e[i];if(t.isFunction(s)||(s=this[s]),s){var r=i.match(n);this.delegate(r[1],r[2],s.bind(this))}}return this},delegate:function(e,t,i){return this.$el.on(e+".delegateEvents"+this.cid,t,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,i){return this.$el.off(e+".delegateEvents"+this.cid,t,i),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(t.result(this,"el"));else{var e=t.extend({},t.result(this,"attributes"));this.id&&(e.id=t.result(this,"id")),this.className&&(e.class=t.result(this,"className")),this.setElement(this._createElement(t.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var r=function(e,i){var n,s=this;return n=e&&t.has(e,"constructor")?e.constructor:function(){return s.apply(this,arguments)},t.extend(n,s,i),n.prototype=t.create(s.prototype,e),n.prototype.constructor=n,n.__super__=s.prototype,n};return i.extend=r,e.View});
//# sourceMappingURL=backbone.view.js.map